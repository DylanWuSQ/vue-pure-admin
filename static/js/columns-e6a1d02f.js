import{v as s,T as y}from"./runtime-dom.esm-bundler-9e945af3.js";import{b as I}from"./data-84bcfbf1.js";import{m as M}from"./message-fc668156.js";import{d as O,I as S}from"./index-4b9f55af.js";import{d as V}from"./edit-pen-37b5ced2.js";import{d as j}from"./check-3815600c.js";import{r as n,a as v,E as l,z as i,a3 as m}from"./runtime-core.esm-bundler-8baab2e8.js";import"./dayjs.min-e0adaab4.js";import"./_commonjsHelpers-042e6b4d.js";import"./index-4787b779.js";import"./style-2d30e5a7.js";import"./index-61e37875.js";import"./index-60ab9bfa.js";import"./vue.runtime.esm-bundler-411b24f7.js";function B(){const t=n({}),o=n({}),r=n(-1),c=n(O(I,!0)),f=v(()=>e=>{var a;return(a=t.value[e])==null?void 0:a.value}),u=v(()=>e=>{var a;return(a=o.value[e])==null?void 0:a.editing}),p=v(()=>(e,a=!1)=>["cursor-pointer","ml-2","transition","delay-100",a?["hover:scale-110","hover:text-red-500"]:u.value(e)&&["scale-150","text-red-500"]]),b=[{label:"ID（可编辑）",prop:"id",cellRenderer:({row:e,index:a})=>l("div",{class:"flex-bc w-full h-[32px]",onMouseenter:()=>r.value=a,onMouseleave:()=>d(a)},[i(l("p",null,[e.id]),[[s,!u.value(a)]]),l(y,{"enter-active-class":"animate__animated animate__fadeInUp animate__faster"},{default:()=>[i(l(m("el-input"),{modelValue:f.value(a),onInput:_=>h(_,a)},null),[[s,u.value(a)]])]}),i(l(m("iconify-icon-offline"),{icon:j,class:p.value(a),onClick:()=>C(a)},null),[[s,u.value(a)]]),i(l(m("iconify-icon-offline"),{icon:V,class:p.value(a,!0),onClick:()=>g(e,a)},null),[[s,r.value===a&&!u.value(a)]])])},{label:"日期",prop:"date"},{label:"姓名",prop:"name"},{label:"地址",prop:"address"}];function g({id:e},a){t.value[a]=Object.assign({},t.value[a],{value:e}),o.value[a]=Object.assign({},o.value[a],{editing:!0})}function d(e){var a;(a=t.value[e])!=null&&a.value?r.value=e:r.value=-1}function h(e,a){t.value[a].value=e}function C(e){c.value[e].id=t.value[e].value,M(`您编辑了第 ${e+1} 行，编辑后数据为：${JSON.stringify(c.value[e])}`,{type:"success"}),o.value[e]=Object.assign({},o.value[e],{editing:!1}),S().then(()=>t.value[e].value=null)}return{columns:b,dataList:c}}export{B as useColumns};
