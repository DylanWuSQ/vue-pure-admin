import{v as q}from"./runtime-dom.esm-bundler-9e945af3.js";import{x as A}from"./index-122aca41.js";import{g as T}from"./system-a2dcea9e.js";import{u as V}from"./hooks-3bc3f091.js";import{d as U}from"./git-branch-line-94a7fefb.js";import{S as Z}from"./search-4b9e88d3.js";import{d as P}from"./more-2-fill-0341ae67.js";import{d as F}from"./office-building-cc7a1721.js";import{k as g,l as x,m as u,j as G,r as p,a as J,w as K,o as Q,a3 as r,E as t,y as a,z as W,u as n,q as f,C as v,D as M,t as X,b6 as Y,b4 as ee,g as te}from"./runtime-core.esm-bundler-8baab2e8.js";import{_ as oe}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-4b9f55af.js";import"./vue.runtime.esm-bundler-411b24f7.js";import"./vue-i18n.runtime.esm-bundler-3b734191.js";import"./_commonjsHelpers-042e6b4d.js";import"./hot-cc9aa47e.js";import"./index-9aff8a28.js";import"./multiTags-23feb6ec.js";import"./index-162fdfcd.js";import"./axios-a900fd7e.js";import"./vue-router-3ff981c7.js";import"./index-61e37875.js";import"./index-2b83f942.js";const ne={width:24,height:24,body:'<path fill="currentColor" d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/>'},le=ne,ae={width:1024,height:1024,body:'<path fill="currentColor" d="M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"/><path fill="currentColor" d="M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"/><path fill="currentColor" d="M544 384h96a32 32 0 1 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0v96z"/>'},re=ae,se={width:"32",height:"32",viewBox:"0 0 24 24"},ie=u("path",{fill:"currentColor",d:"M22 4V2H2v2h9v14.17l-5.5-5.5-1.42 1.41L12 22l7.92-7.92-1.42-1.41-5.5 5.5V4h9Z"},null,-1),ce=[ie];function de(d,h){return g(),x("svg",se,ce)}const pe={render:de},ue={width:"32",height:"32",viewBox:"0 0 24 24"},he=u("path",{fill:"currentColor",d:"M4 2H2v20h2v-9h14.17l-5.5 5.5 1.41 1.42L22 12l-7.92-7.92-1.41 1.42 5.5 5.5H4V2Z"},null,-1),_e=[he];function me(d,h){return g(),x("svg",ue,_e)}const fe={render:me},ve=d=>(Y("data-v-628f3521"),d=d(),ee(),d),ge={class:"h-full min-h-[780px] bg-bg_color overflow-auto"},xe={class:"flex items-center h-[34px]"},ye=ve(()=>u("p",{class:"flex-1 ml-2 font-bold text-base truncate",title:"部门列表"}," 部门列表 ",-1)),we=G({__name:"tree",setup(d){const h=p(),y=p([]),_=p(!0),i=p(""),s=p({}),{proxy:S}=te(),E={children:"children",label:"name"},w=J(()=>["!h-[20px]","reset-margin","!text-gray-500","dark:!text-white","dark:hover:!text-primary"]),N=(o,e)=>o?e.name.includes(o):!0;function R(o){var l;const e=o.$treeNodeId;s.value[e]=(l=s.value[e])!=null&&l.highlight?Object.assign({id:e},s.value[e],{highlight:!1}):Object.assign({id:e},s.value[e],{highlight:!0}),Object.values(s.value).forEach(m=>{m.id!==e&&(m.highlight=!1)})}function C(o){_.value=o;const e=S.$refs.treeRef.store._getAllNodes();for(let l=0;l<e.length;l++)e[l].expanded=o}function B(){s.value={},i.value="",C(!0)}return K(i,o=>{h.value.filter(o)}),Q(async()=>{const{data:o}=await T();y.value=A(o)}),(o,e)=>{const l=r("IconifyIconOffline"),m=r("el-icon"),D=r("el-input"),b=r("el-button"),k=r("el-dropdown-item"),L=r("el-dropdown-menu"),O=r("el-dropdown"),j=r("el-divider"),H=r("el-tree");return g(),x("div",ge,[u("div",xe,[ye,t(D,{style:{flex:"2"},size:"small",modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=c=>i.value=c),placeholder:"请输入部门名称",clearable:""},{suffix:a(()=>[t(m,{class:"el-input__icon"},{default:a(()=>[W(t(l,{icon:n(Z)},null,8,["icon"]),[[q,i.value.length===0]])]),_:1})]),_:1},8,["modelValue"]),t(O,{"hide-on-click":!1},{dropdown:a(()=>[t(L,null,{default:a(()=>[t(k,null,{default:a(()=>[t(b,{class:f(n(w)),link:"",type:"primary",icon:n(V)(_.value?n(pe):n(fe)),onClick:e[1]||(e[1]=c=>C(!_.value))},{default:a(()=>[v(M(_.value?"折叠全部":"展开全部"),1)]),_:1},8,["class","icon"])]),_:1}),t(k,null,{default:a(()=>[t(b,{class:f(n(w)),link:"",type:"primary",icon:n(V)(n(le)),onClick:B},{default:a(()=>[v(" 重置状态 ")]),_:1},8,["class","icon"])]),_:1})]),_:1})]),default:a(()=>[t(l,{class:"w-[28px] cursor-pointer",width:"18px",icon:n(P)},null,8,["icon"])]),_:1})]),t(j),t(H,{ref_key:"treeRef",ref:h,data:y.value,"node-key":"id",size:"small",props:E,"default-expand-all":"","expand-on-click-node":!1,"filter-node-method":N,onNodeClick:R},{default:a(({node:c,data:I})=>{var $,z;return[u("span",{class:f(["pl-1","pr-1","rounded","flex","items-center","select-none",i.value.trim().length>0&&c.label.includes(i.value)&&"text-red-500",($=s.value[c.id])!=null&&$.highlight?"dark:text-primary":""]),style:X({background:(z=s.value[c.id])!=null&&z.highlight?"var(--el-color-primary-light-7)":"transparent"})},[t(l,{icon:I.type===1?n(F):I.type===2?n(re):n(U)},null,8,["icon"]),v(" "+M(c.label),1)],6)]}),_:1},8,["data"])])}}});const Ze=oe(we,[["__scopeId","data-v-628f3521"]]);export{Ze as default};
