import{d as B,r as p,B as D,o as F,bH as O,b as r,c as j,k as q,h as x,f as t,w as o,m as A,u as n,au as L,g as h,ac as U,E as H,bN as T,I as P,p as G,q as J,ao as K,_ as Q}from"./index-37605f85.js";import{g as W,E as X,U as Y}from"./arrow-expand-down-825d6913.js";import{u as g}from"./hooks-fa6a7e72.js";import{d as Z}from"./more-2-fill-089c8ca1.js";import{d as ee}from"./office-building-342e02a9.js";import{S as te}from"./search-931ae65f.js";const oe={width:1024,height:1024,body:'<path fill="currentColor" d="M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"/><path fill="currentColor" d="M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"/><path fill="currentColor" d="M544 384h96a32 32 0 1 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0v96z"/>'},ae=oe,ne={width:24,height:24,body:'<path fill="currentColor" d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/>'},le=ne,re=d=>(G("data-v-810b1096"),d=d(),J(),d),se={class:"max-w-[260px] h-full min-h-[780px] bg-bg_color"},ie={class:"flex items-center h-[34px]"},ce=re(()=>x("p",{class:"flex-1 ml-2 font-bold text-base truncate",title:"\u90E8\u95E8\u5217\u8868"}," \u90E8\u95E8\u5217\u8868 ",-1)),de=B({__name:"tree",setup(d){const C={children:"children",label:"name"},v=p([]),c=p(""),{proxy:E}=K(),y=p(),s=p({}),I=(a,e)=>a?e.name.includes(a):!0;function z(a){var l;const e=a.$treeNodeId;s.value[e]=(l=s.value[e])!=null&&l.highlight?Object.assign({id:e},s.value[e],{highlight:!1}):Object.assign({id:e},s.value[e],{highlight:!0}),Object.values(s.value).forEach(u=>{u.id!==e&&(u.highlight=!1)})}function _(a){const e=E.$refs.treeRef.store._getAllNodes();for(let l=0;l<e.length;l++)e[l].expanded=a}function S(){s.value={},c.value="",_(!0)}return D(c,a=>{y.value.filter(a)}),F(async()=>{const{data:a}=await W();v.value=O(a)}),(a,e)=>{const l=r("IconifyIconOffline"),u=r("el-icon"),N=r("el-input"),f=r("el-button"),m=r("el-dropdown-item"),$=r("el-dropdown-menu"),M=r("el-dropdown"),R=r("el-divider"),V=r("el-tree");return j(),q("div",se,[x("div",ie,[ce,t(N,{style:{flex:"2"},size:"small",modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=i=>c.value=i),placeholder:"\u8BF7\u8F93\u5165\u90E8\u95E8\u540D\u79F0",clearable:""},{suffix:o(()=>[t(u,{class:"el-input__icon"},{default:o(()=>[A(t(l,{icon:n(te)},null,8,["icon"]),[[L,c.value.length===0]])]),_:1})]),_:1},8,["modelValue"]),t(M,null,{dropdown:o(()=>[t($,null,{default:o(()=>[t(m,null,{default:o(()=>[t(f,{class:"reset-margin !h-[20px] !text-gray-500 dark:!text-white dark:hover:!text-primary",link:"",type:"primary",icon:n(g)(n(X)),onClick:e[1]||(e[1]=i=>_(!0))},{default:o(()=>[h(" \u5C55\u5F00\u5168\u90E8 ")]),_:1},8,["icon"])]),_:1}),t(m,null,{default:o(()=>[t(f,{class:"reset-margin !h-[20px] !text-gray-500 dark:!text-white dark:hover:!text-primary",link:"",type:"primary",icon:n(g)(n(Y)),onClick:e[2]||(e[2]=i=>_(!1))},{default:o(()=>[h(" \u6298\u53E0\u5168\u90E8 ")]),_:1},8,["icon"])]),_:1}),t(m,null,{default:o(()=>[t(f,{class:"reset-margin !h-[20px] !text-gray-500 dark:!text-white dark:hover:!text-primary",link:"",type:"primary",icon:n(g)(n(le)),onClick:S},{default:o(()=>[h(" \u91CD\u7F6E\u72B6\u6001 ")]),_:1},8,["icon"])]),_:1})]),_:1})]),default:o(()=>[t(l,{class:"w-[28px] cursor-pointer",width:"18px",icon:n(Z)},null,8,["icon"])]),_:1})]),t(R),t(V,{ref_key:"treeRef",ref:y,data:v.value,"node-key":"id",size:"small",props:C,"default-expand-all":"","expand-on-click-node":!1,"filter-node-method":I,onNodeClick:z},{default:o(({node:i,data:w})=>{var b,k;return[x("span",{class:U(["pl-1","pr-1","rounded","flex","items-center","select-none",c.value.trim().length>0&&i.label.includes(c.value)&&"text-red-500",(b=s.value[i.id])!=null&&b.highlight?"dark:text-primary":""]),style:H({background:(k=s.value[i.id])!=null&&k.highlight?"var(--el-color-primary-light-7)":"transparent"})},[t(l,{icon:w.type===1?n(ee):w.type===2?n(ae):n(T)},null,8,["icon"]),h(" "+P(i.label),1)],6)]}),_:1},8,["data"])])}}});const ge=Q(de,[["__scopeId","data-v-810b1096"]]);export{ge as default};
