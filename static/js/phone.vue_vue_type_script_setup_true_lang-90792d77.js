import{d as R,u as w,r as C,t as S,h as d,e as B,i as E,j as l,l as o,b as e,g as N,k as _,Z as g,ai as T,aR as U,aS as z}from"./index-982b6cac.js";import{M as f}from"./motion-cd4fdb43.js";import{u as y,p as F}from"./verifyCode-2e4a0a2c.js";import{E as I}from"./index-890f6334.js";import{u as h}from"./hooks-25393761.js";const $={class:"w-full flex justify-between"},L=R({__name:"phone",setup(j){const{t:a}=w(),r=C(!1),t=S({phone:"",verifyCode:""}),p=C(),{isDisabled:V,text:v}=y(),k=async m=>{r.value=!0,m&&await m.validate((n,i)=>{if(n)setTimeout(()=>{I.success(T(U("login.loginSuccess"))),r.value=!1},2e3);else return r.value=!1,i})};function b(){y().end(),z().SET_CURRENTPAGE(0)}return(m,n)=>{const i=d("el-input"),u=d("el-form-item"),c=d("el-button"),x=d("el-form");return B(),E(x,{ref_key:"ruleFormRef",ref:p,model:t,rules:e(F),size:"large"},{default:l(()=>[o(e(f),null,{default:l(()=>[o(u,{prop:"phone"},{default:l(()=>[o(i,{clearable:"",modelValue:t.phone,"onUpdate:modelValue":n[0]||(n[0]=s=>t.phone=s),placeholder:e(a)("login.phone"),"prefix-icon":e(h)("iphone")},null,8,["modelValue","placeholder","prefix-icon"])]),_:1})]),_:1}),o(e(f),{delay:100},{default:l(()=>[o(u,{prop:"verifyCode"},{default:l(()=>[N("div",$,[o(i,{clearable:"",modelValue:t.verifyCode,"onUpdate:modelValue":n[1]||(n[1]=s=>t.verifyCode=s),placeholder:e(a)("login.smsVerifyCode"),"prefix-icon":e(h)("ri:shield-keyhole-line")},null,8,["modelValue","placeholder","prefix-icon"]),o(c,{disabled:e(V),class:"ml-2",onClick:n[2]||(n[2]=s=>e(y)().start(p.value,"phone"))},{default:l(()=>[_(g(e(v).length>0?e(v)+e(a)("login.info"):e(a)("login.getVerifyCode")),1)]),_:1},8,["disabled"])])]),_:1})]),_:1}),o(e(f),{delay:150},{default:l(()=>[o(u,null,{default:l(()=>[o(c,{class:"w-full",size:"default",type:"primary",loading:r.value,onClick:n[3]||(n[3]=s=>k(p.value))},{default:l(()=>[_(g(e(a)("login.login")),1)]),_:1},8,["loading"])]),_:1})]),_:1}),o(e(f),{delay:200},{default:l(()=>[o(u,null,{default:l(()=>[o(c,{class:"w-full",size:"default",onClick:b},{default:l(()=>[_(g(e(a)("login.back")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}});export{L as _};
