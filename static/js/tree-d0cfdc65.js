import{d as O,r as u,y as j,o as z,bf as $,h as a,e as A,f as M,g as x,l as t,j as n,w as q,I as G,b as h,k as p,aG as L,aw as P,Z as T,ap as U,aq as Z,V as H,_ as J}from"./index-c791abfe.js";import{g as K}from"./system-85bda362.js";import{u as g}from"./hooks-3ad638bd.js";const Q=c=>(U("data-v-d92dc26a"),c=c(),Z(),c),W={class:"max-w-[260px] h-full min-h-[780px] bg-bg_color"},X={class:"flex items-center h-[34px]"},Y=Q(()=>x("p",{class:"flex-1 ml-2 font-bold text-base truncate",title:"\u90E8\u95E8\u5217\u8868"}," \u90E8\u95E8\u5217\u8868 ",-1)),ee=O({__name:"tree",setup(c){const E={children:"children",label:"name"},v=u([]),i=u(""),{proxy:I}=H(),y=u(),s=u({}),C=(o,e)=>o?e.name.includes(o):!0;function V(o){var l;const e=o.$treeNodeId;s.value[e]=(l=s.value[e])!=null&&l.highlight?Object.assign({id:e},s.value[e],{highlight:!1}):Object.assign({id:e},s.value[e],{highlight:!0}),Object.values(s.value).forEach(d=>{d.id!==e&&(d.highlight=!1)})}function _(o){const e=I.$refs.treeRef.store._getAllNodes();for(let l=0;l<e.length;l++)e[l].expanded=o}function N(){s.value={},i.value="",_(!0)}return j(i,o=>{y.value.filter(o)}),z(async()=>{const{data:o}=await K();v.value=$(o)}),(o,e)=>{const l=a("IconifyIconOffline"),d=a("el-icon"),D=a("el-input"),f=a("el-button"),m=a("el-dropdown-item"),R=a("el-dropdown-menu"),S=a("el-dropdown"),B=a("el-divider"),F=a("el-tree");return A(),M("div",W,[x("div",X,[Y,t(D,{style:{flex:"2"},size:"small",modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=r=>i.value=r),placeholder:"\u8BF7\u8F93\u5165\u90E8\u95E8\u540D\u79F0",clearable:""},{suffix:n(()=>[t(d,{class:"el-input__icon"},{default:n(()=>[q(t(l,{icon:"search"},null,512),[[G,i.value.length===0]])]),_:1})]),_:1},8,["modelValue"]),t(S,null,{dropdown:n(()=>[t(R,null,{default:n(()=>[t(m,null,{default:n(()=>[t(f,{class:"reset-margin !h-[20px] !text-gray-500 dark:!text-white dark:hover:!text-primary",link:"",type:"primary",icon:h(g)("expand"),onClick:e[1]||(e[1]=r=>_(!0))},{default:n(()=>[p(" \u5C55\u5F00\u5168\u90E8 ")]),_:1},8,["icon"])]),_:1}),t(m,null,{default:n(()=>[t(f,{class:"reset-margin !h-[20px] !text-gray-500 dark:!text-white dark:hover:!text-primary",link:"",type:"primary",icon:h(g)("unExpand"),onClick:e[2]||(e[2]=r=>_(!1))},{default:n(()=>[p(" \u6298\u53E0\u5168\u90E8 ")]),_:1},8,["icon"])]),_:1}),t(m,null,{default:n(()=>[t(f,{class:"reset-margin !h-[20px] !text-gray-500 dark:!text-white dark:hover:!text-primary",link:"",type:"primary",icon:h(g)("reset"),onClick:N},{default:n(()=>[p(" \u91CD\u7F6E\u72B6\u6001 ")]),_:1},8,["icon"])]),_:1})]),_:1})]),default:n(()=>[t(l,{class:"w-[28px] cursor-pointer",width:"18px",icon:"more-vertical"})]),_:1})]),t(B),t(F,{ref_key:"treeRef",ref:y,data:v.value,"node-key":"id",size:"small",props:E,"default-expand-all":"","expand-on-click-node":!1,"filter-node-method":C,onNodeClick:V},{default:n(({node:r,data:k})=>{var w,b;return[x("span",{class:L(["pl-1","pr-1","rounded","flex","items-center","select-none",i.value.trim().length>0&&r.label.includes(i.value)&&"text-red-500",(w=s.value[r.id])!=null&&w.highlight?"dark:text-primary":""]),style:P({background:(b=s.value[r.id])!=null&&b.highlight?"var(--el-color-primary-light-7)":"transparent"})},[t(l,{icon:k.type===1?"office-building":k.type===2?"location-company":"dept"},null,8,["icon"]),p(" "+T(r.label),1)],6)]}),_:1},8,["data"])])}}});const le=J(ee,[["__scopeId","data-v-d92dc26a"]]);export{le as default};
