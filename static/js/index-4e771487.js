import{p as n}from"./propTypes-d4134fbf.js";import{h as D,g as F}from"./index-4b9f55af.js";import{j as y,J as w,a as z,w as A,o as k,E as a,F as _,u as m,r as x,d as B,b as R,C as r,a3 as E,k as T,x as q,y as C,m as g,l as $,X as M}from"./runtime-core.esm-bundler-8baab2e8.js";import"./vue.runtime.esm-bundler-411b24f7.js";import"./runtime-dom.esm-bundler-9e945af3.js";const G={startVal:n.number.def(0),endVal:n.number.def(2020),duration:n.number.def(1300),autoplay:n.bool.def(!0),decimals:{type:Number,required:!1,default:0,validator(e){return e>=0}},color:n.string.def(),fontSize:n.string.def(),decimal:n.string.def("."),separator:n.string.def(","),prefix:n.string.def(""),suffix:n.string.def(""),useEasing:n.bool.def(!0),easingFn:{type:Function,default(e,u,t,i){return t*(-Math.pow(2,-10*e/i)+1)*1024/1023+u}}},L=y({name:"ReNormalCountTo",props:G,emits:["mounted","callback"],setup(e,{emit:u}){const t=w({localStartVal:e.startVal,displayValue:p(e.startVal),printVal:null,paused:!1,localDuration:e.duration,startTime:null,timestamp:null,remaining:null,rAF:null,color:null,fontSize:"16px"}),i=z(()=>e.startVal>e.endVal);A([()=>e.startVal,()=>e.endVal],()=>{e.autoplay&&c()});function c(){const{startVal:o,duration:V,color:f,fontSize:l}=e;t.localStartVal=o,t.startTime=null,t.localDuration=V,t.paused=!1,t.color=f,t.fontSize=l,t.rAF=requestAnimationFrame(d)}function d(o){const{useEasing:V,easingFn:f,endVal:l}=e;t.startTime||(t.startTime=o),t.timestamp=o;const s=o-t.startTime;t.remaining=t.localDuration-s,V?m(i)?t.printVal=t.localStartVal-f(s,0,t.localStartVal-l,t.localDuration):t.printVal=f(s,t.localStartVal,l-t.localStartVal,t.localDuration):m(i)?t.printVal=t.localStartVal-(t.localStartVal-l)*(s/t.localDuration):t.printVal=t.localStartVal+(l-t.localStartVal)*(s/t.localDuration),m(i)?t.printVal=t.printVal<l?l:t.printVal:t.printVal=t.printVal>l?l:t.printVal,t.displayValue=p(t.printVal),s<t.localDuration?t.rAF=requestAnimationFrame(d):u("callback")}function p(o){const{decimals:V,decimal:f,separator:l,suffix:s,prefix:v}=e;o=Number(o).toFixed(V),o+="";const S=o.split(".");let b=S[0];const N=S.length>1?f+S[1]:"",h=/(\d+)(\d{3})/;if(l&&!D(l))for(;h.test(b);)b=b.replace(h,"$1"+l+"$2");return v+b+N+s}return k(()=>{e.autoplay&&c(),u("mounted")}),()=>a(_,null,[a("span",{style:{color:e.color,fontSize:e.fontSize}},[t.displayValue])])}});const P={delay:n.number.def(1),blur:n.number.def(2),i:{type:Number,required:!1,default:0,validator(e){return e<10&&e>=0&&Number.isInteger(e)}}},U=y({name:"ReboundCountTo",props:P,setup(e){const u=x(),t=x(null);return B(()=>{const i=navigator.userAgent.toLowerCase(),c=p=>p.test(i);c(/safari/g)&&!c(/chrome/g)&&(t.value=setTimeout(()=>{u.value.setAttribute("style",`
        animation: none;
        transform: translateY(calc(var(--i) * -9.09%))
      `)},e.delay*1e3))}),R(()=>{clearTimeout(m(t))}),()=>a(_,null,[a("div",{class:"scroll-num",style:{"--i":e.i,"--delay":e.delay}},[a("ul",{ref:"ulRef",style:{fontSize:"32px"}},[a("li",null,[r("0")]),a("li",null,[r("1")]),a("li",null,[r("2")]),a("li",null,[r("3")]),a("li",null,[r("4")]),a("li",null,[r("5")]),a("li",null,[r("6")]),a("li",null,[r("7")]),a("li",null,[r("8")]),a("li",null,[r("9")]),a("li",null,[r("0")])]),a("svg",{width:"0",height:"0"},[a("filter",{id:"blur"},[a("feGaussianBlur",{in:"SourceGraphic",stdDeviation:`0 ${e.blur}`},null)])])])])}}),j=F(L),I=F(U),J=g("div",{class:"card-header"},[g("span",{class:"font-medium"},"数字动画组件")],-1),X={class:"flex items-center"},Y={class:"flex ml-8"},H=y({name:"CountTo"}),tt=y({...H,setup(e){return(u,t)=>{const i=E("el-card");return T(),q(i,{shadow:"never"},{header:C(()=>[J]),default:C(()=>[g("div",X,[a(m(j),{prefix:"$",duration:1e3,color:"#409EFF",fontSize:"2em",startVal:1,endVal:1e3}),g("ul",Y,[(T(),$(_,null,M([1,6,6,6],(c,d)=>a(m(I),{key:d,i:c,blur:d,delay:d+1},null,8,["i","blur","delay"])),64))])])]),_:1})}}});export{tt as default};
