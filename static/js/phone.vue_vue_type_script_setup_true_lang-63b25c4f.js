import{u as w}from"./vue-i18n.runtime.esm-bundler-3b734191.js";import{M as d}from"./motion-b9b79fac.js";import{m as R}from"./message-fc668156.js";import{u as _,p as B}from"./verifyCode-fc8e5db0.js";import{c as N,$ as S,o as T}from"./index-122aca41.js";import{u as C}from"./hooks-3bc3f091.js";import{d as U}from"./iphone-bcaa848c.js";import{j as $,r as V,J as z,a3 as f,k as D,x as E,y as l,E as o,u as e,m as F,C as y,D as g}from"./runtime-core.esm-bundler-8baab2e8.js";const I={class:"w-full flex justify-between"},K=$({__name:"phone",setup(j){const{t}=w(),r=V(!1),n=z({phone:"",verifyCode:""}),m=V(),{isDisabled:k,text:v}=_(),x=async p=>{r.value=!0,p&&await p.validate((a,i)=>{if(a)setTimeout(()=>{R(N(S("login.loginSuccess")),{type:"success"}),r.value=!1},2e3);else return r.value=!1,i})};function h(){_().end(),T().SET_CURRENTPAGE(0)}return(p,a)=>{const i=f("el-input"),u=f("el-form-item"),c=f("el-button"),b=f("el-form");return D(),E(b,{ref_key:"ruleFormRef",ref:m,model:n,rules:e(B),size:"large"},{default:l(()=>[o(e(d),null,{default:l(()=>[o(u,{prop:"phone"},{default:l(()=>[o(i,{clearable:"",modelValue:n.phone,"onUpdate:modelValue":a[0]||(a[0]=s=>n.phone=s),placeholder:e(t)("login.phone"),"prefix-icon":e(C)(e(U))},null,8,["modelValue","placeholder","prefix-icon"])]),_:1})]),_:1}),o(e(d),{delay:100},{default:l(()=>[o(u,{prop:"verifyCode"},{default:l(()=>[F("div",I,[o(i,{clearable:"",modelValue:n.verifyCode,"onUpdate:modelValue":a[1]||(a[1]=s=>n.verifyCode=s),placeholder:e(t)("login.smsVerifyCode"),"prefix-icon":e(C)("ri:shield-keyhole-line")},null,8,["modelValue","placeholder","prefix-icon"]),o(c,{disabled:e(k),class:"ml-2",onClick:a[2]||(a[2]=s=>e(_)().start(m.value,"phone"))},{default:l(()=>[y(g(e(v).length>0?e(v)+e(t)("login.info"):e(t)("login.getVerifyCode")),1)]),_:1},8,["disabled"])])]),_:1})]),_:1}),o(e(d),{delay:150},{default:l(()=>[o(u,null,{default:l(()=>[o(c,{class:"w-full",size:"default",type:"primary",loading:r.value,onClick:a[3]||(a[3]=s=>x(m.value))},{default:l(()=>[y(g(e(t)("login.login")),1)]),_:1},8,["loading"])]),_:1})]),_:1}),o(e(d),{delay:200},{default:l(()=>[o(u,null,{default:l(()=>[o(c,{class:"w-full",size:"default",onClick:h},{default:l(()=>[y(g(e(t)("login.back")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}});export{K as _};
