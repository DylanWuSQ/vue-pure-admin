import{i as x,Q as V,a as j}from"./index.esm-6d65e3fa.js";import{d as _,r as m,N as b,o as O,y as D,E as A,U as H,e as w,f as P,F as S,h as C,i as k,j as p,g as h,k as y,l as v,b as c}from"./index-d8ef8f83.js";import{u as M}from"./hooks-5eaff2cf.js";var N=Object.defineProperty,R=Object.defineProperties,T=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,F=(t,e,o)=>e in t?N(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,U=(t,e)=>{for(var o in e||(e={}))I.call(e,o)&&F(t,o,e[o]);if(E)for(var o of E(e))L.call(e,o)&&F(t,o,e[o]);return t},Q=(t,e)=>R(t,T(e));function s(t){let e=`\u8BF7\u4F7F\u7528 '@${t}' \u4E8B\u4EF6\uFF0C\u4E0D\u8981\u653E\u5728 props \u4E2D`;return e+=`
Please use '@${t}' event instead of props`,e}var $=(t,e)=>{for(const[o,a]of e)t[o]=a;return t};const z=_({props:{mode:{type:String,default:"default"},defaultContent:{type:Array,default:[]},defaultHtml:{type:String,default:""},defaultConfig:{type:Object,default:{}},modelValue:{type:String,default:""}},setup(t,e){const o=m(null),a=b(null),f=m(""),d=()=>{if(!o.value)return;const u=H(t.defaultContent);x({selector:o.value,mode:t.mode,content:u||[],html:t.defaultHtml||t.modelValue||"",config:Q(U({},t.defaultConfig),{onCreated(n){if(a.value=n,e.emit("onCreated",n),t.defaultConfig.onCreated){const r=s("onCreated");throw new Error(r)}},onChange(n){const r=n.getHtml();if(f.value=r,e.emit("update:modelValue",r),e.emit("onChange",n),t.defaultConfig.onChange){const l=s("onChange");throw new Error(l)}},onDestroyed(n){if(e.emit("onDestroyed",n),t.defaultConfig.onDestroyed){const r=s("onDestroyed");throw new Error(r)}},onMaxLength(n){if(e.emit("onMaxLength",n),t.defaultConfig.onMaxLength){const r=s("onMaxLength");throw new Error(r)}},onFocus(n){if(e.emit("onFocus",n),t.defaultConfig.onFocus){const r=s("onFocus");throw new Error(r)}},onBlur(n){if(e.emit("onBlur",n),t.defaultConfig.onBlur){const r=s("onBlur");throw new Error(r)}},customAlert(n,r){if(e.emit("customAlert",n,r),t.defaultConfig.customAlert){const l=s("customAlert");throw new Error(l)}},customPaste:(n,r)=>{if(t.defaultConfig.customPaste){const g=s("customPaste");throw new Error(g)}let l;return e.emit("customPaste",n,r,g=>{l=g}),l}})})};function i(u){const n=a.value;n!=null&&n.setHtml(u)}return O(()=>{d()}),D(()=>t.modelValue,u=>{u!==f.value&&i(u)}),{box:o}}}),K={ref:"box",style:{height:"100%"}};function W(t,e,o,a,f,d){return w(),P("div",K,null,512)}var q=$(z,[["render",W]]);const G=_({props:{editor:{type:Object},mode:{type:String,default:"default"},defaultConfig:{type:Object,default:{}}},setup(t){const e=m(null),o=a=>{if(!!e.value){if(a==null)throw new Error("Not found instance of Editor when create <Toolbar/> component");V.getToolbar(a)||j({editor:a,selector:e.value||"<div></div>",mode:t.mode,config:t.defaultConfig})}};return A(()=>{const{editor:a}=t;a!=null&&o(a)}),{selector:e}}}),J={ref:"selector"};function X(t,e,o,a,f,d){return w(),P("div",J,null,512)}var Y=$(G,[["render",X]]);const Z={class:"card-header"},ee={class:"font-medium"},te={class:"wangeditor"},B="default",oe=_({name:"Editor"}),ue=_({...oe,setup(t){const e=b(),o=m("<p>hello</p>");O(()=>{setTimeout(()=>{o.value="<p>\u6A21\u62DF Ajax \u5F02\u6B65\u8BBE\u7F6E\u5185\u5BB9</p>"},1500)});const a={excludeKeys:"fullScreen"},f={placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9..."};S(()=>{const i=e.value;i!=null&&i.destroy()});const d=i=>{e.value=i};return(i,u)=>{const n=C("el-link"),r=C("el-card");return w(),k(r,null,{header:p(()=>[h("div",Z,[h("span",ee,[y(" \u7F16\u8F91\u5668\u7EC4\u4EF6\uFF0C\u91C7\u7528\u5F00\u6E90\u7684 "),v(n,{href:"https://www.wangeditor.com",target:"_blank",icon:c(M)("edit"),style:{"font-size":"16px",margin:"0 4px 5px"}},{default:p(()=>[y(" Wangeditor ")]),_:1},8,["icon"])])])]),default:p(()=>[h("div",te,[v(c(Y),{style:{"border-bottom":"1px solid #ccc"},editor:c(e),defaultConfig:a,mode:B},null,8,["editor"]),v(c(q),{style:{height:"500px","overflow-y":"hidden"},modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=l=>o.value=l),defaultConfig:f,mode:B,onOnCreated:d},null,8,["modelValue"])])]),_:1})}}});export{ue as default};
